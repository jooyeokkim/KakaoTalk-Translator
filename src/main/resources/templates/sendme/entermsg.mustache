<html>
<head>
    <meta charset="UTF-8">
    <title>Translation Talk</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@700&family=Quicksand:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link href="/static/css/home.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
    {{>part/nav}}

    <br>
    <div id="main-container" class="my-container">
        <div id="menu" class="d-flex justify-content-center m-4 nskr">
            <button type="button" class="btn btn-lg btn-warning" onclick="moveHome();">홈으로 이동</button>
        </div>

        <div id="form-container" class="d-flex justify-content-center m-3">
            <form action="/sendme/send">
                <h2 class="nskr">To. Me</h2>
                <input id="text" type="text" name="message" class="mt-2 mb-2" placeholder="메세지를 입력하세요..."><br>
                <div id="send-container" class="d-flex justify-content-center nskr">
                    <span id="showLength" class="me-2">현재 0자 / 최대 30자</span>
                    <input type="submit" value="전송">
                </div>
            </form>
        </div><br>

        <div id="history-container" class="d-flex justify-content-center m-3 text-center">
            <div>
                <p><button id="history" type="button" class="btn btn-danger disabled"><strong>최근 전송 메세지</strong></button></p>
                {{#message}}
                    <label><strong>{{.}}</strong></label>
                    <label><strong>▶&nbsp{{translatedMessage}}</strong></label>
                {{/message}}
                {{^message}}
                    <label><strong>없음</strong></label>
                {{/message}}
            </div>
        </div>
    </div>

    <script type="text/javascript">
        function moveHome(){
            location.href = "/home";
        }

        $('#text').keyup(function (e){
            var content = $(this).val();
            $('#showLength').html("현재 "+content.length+"자 / 최대 30자");

            if (content.length > 30){
                alert("최대 30자까지 입력 가능합니다.");
                $(this).val(content.substring(0, 30));
                $('#showLength').html("(현재 30자 / 최대 30자)");
            }
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
</body>
</html>